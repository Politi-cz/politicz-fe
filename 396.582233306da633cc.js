"use strict";(self.webpackChunkpoliticz_fe=self.webpackChunkpoliticz_fe||[]).push([[396],{5396:(tt,A,c)=>{c.r(A),c.d(A,{PartyModule:()=>V});var m,n,s=c(655),p=c(8426);(n=m||(m={})).GetPoliticalParty=(()=>{class r{constructor(P){this.payload=P}}return r.type="[PoliticalParty] LoadPoliticalPartyById",r})(),n.AddPolitician=(()=>{class r{constructor(P){this.payload=P}}return r.type="[PoliticalParty] Add politician",r})(),n.EditPolitician=(()=>{class r{constructor(P){this.payload=P}}return r.type="[PoliticalParty] Edit politician",r})(),n.RemovePolitician=(()=>{class r{constructor(P){this.payload=P}}return r.type="[PoliticalParty] Remove politician",r})();var v=c(8505),t=c(4650),x=c(1027),E=c(929);let l=class{constructor(a,i){this.politicalPartyService=a,this.notificationService=i}static getPoliticalParty(a){return a}static getPoliticalPartyId(a){return a.id}static getPoliticians(a){return a.politicians}getPoliticalParty(a,{payload:i}){return this.politicalPartyService.getPoliticalParty(i).pipe((0,v.b)(o=>a.setState(o)))}addPolitician(a,{payload:i}){return this.politicalPartyService.addPolitician(a.getState().id,i).pipe((0,v.b)(o=>a.patchState({politicians:[...a.getState().politicians,o]})))}editPolitician(a,{payload:i}){return this.politicalPartyService.editPolitician(a.getState().id,i).pipe((0,v.b)(o=>{let e=[...a.getState().politicians];const r=e.findIndex(y=>y.id===o.id);if(-1!==r)return e[r]={...o},a.patchState({politicians:[...e]});this.notificationService.showError("Wrong politician id")}))}removePolitician(a,{payload:i}){return this.politicalPartyService.removePolitician(i.id).pipe((0,v.b)(()=>{const o=a.getState().politicians.filter(e=>e.id!==i.id);a.patchState({politicians:o})}))}};l.\u0275fac=function(a){return new(a||l)(t.LFG(x.A),t.LFG(E.g))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac}),(0,s.gn)([(0,p.aU)(m.GetPoliticalParty,{cancelUncompleted:!0})],l.prototype,"getPoliticalParty",null),(0,s.gn)([(0,p.aU)(m.AddPolitician)],l.prototype,"addPolitician",null),(0,s.gn)([(0,p.aU)(m.EditPolitician)],l.prototype,"editPolitician",null),(0,s.gn)([(0,p.aU)(m.RemovePolitician)],l.prototype,"removePolitician",null),(0,s.gn)([(0,p.Qf)()],l,"getPoliticalParty",null),(0,s.gn)([(0,p.Qf)()],l,"getPoliticalPartyId",null),(0,s.gn)([(0,p.Qf)()],l,"getPoliticians",null),l=(0,s.gn)([(0,p.ZM)({name:"politicalPartyState",defaults:{id:"",name:"kokodzina",image:{name:"",extension:""},politicians:[],tags:[]}})],l);var q=c(5901),_=c(6895),M=c(3900),u=c(8767),d=c(4006),b=c(4859),U=c(4144),f=c(9549),C=c(9602),Z=c(9383);let T=(()=>{class n{constructor(i){this._fb=i,this.submitEvent=new t.vpe,this.cancelEvent=new t.vpe}ngOnInit(){this.politicianForm=this._fb.group({fullName:this._fb.control(this.politician?.fullName,{nonNullable:!0,validators:[d.kI.required]}),birthDate:this._fb.control(this.politician?.birthDate,{nonNullable:!0,validators:[d.kI.required]}),profileImageUrl:this._fb.control(this.politician?.profileImageUrl,{nonNullable:!0,validators:[d.kI.required]}),facebookUrl:this._fb.control(this.politician?.facebookUrl??null),instagramUrl:this._fb.control(this.politician?.instagramUrl??null),twitterUrl:this._fb.control(this.politician?.twitterUrl??null)})}submit(){this.politicianForm.valid&&this.submitEvent.emit(this.politicianForm.value)}cancel(){this.cancelEvent.emit()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-politician-form"]],inputs:{politician:"politician"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:53,vars:40,consts:[[1,"form-content",3,"formGroup","ngSubmit"],["appearance","outline",1,"span-6"],["matInput","","formControlName","fullName"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startView","multi-year"],["picker",""],["appearance","outline",1,"span-12"],["matInput","","formControlName","profileImageUrl"],["matInput","","formControlName","twitterUrl"],["matInput","","formControlName","instagramUrl"],["matInput","","formControlName","facebookUrl"],[1,"form-footer","span-12"],["type","button","mat-raised-button","",1,"button-add",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"button-add",3,"disabled"]],template:function(i,o){if(1&i&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"mat-form-field",1)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",2),t.TgZ(6,"mat-error"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field",1)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"input",3),t.TgZ(14,"mat-error"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-hint"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"mat-datepicker-toggle",4)(21,"mat-datepicker",5,6),t.qZA(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"input",8),t.TgZ(28,"mat-error"),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"input",9),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",10),t.qZA(),t.TgZ(41,"mat-form-field",7)(42,"mat-label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"input",11),t.qZA(),t.TgZ(46,"div",12)(47,"button",13),t.NdJ("click",function(){return o.cancel()}),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",14),t._uU(51),t.ALo(52,"translate"),t.qZA()()()),2&i){const e=t.MAs(22);t.Q6J("formGroup",o.politicianForm),t.xp6(3),t.Oqu(t.lcZ(4,16,"politician-name")),t.xp6(4),t.Oqu(t.lcZ(8,18,"form-required")),t.xp6(4),t.Oqu(t.lcZ(12,20,"birthday")),t.xp6(2),t.Q6J("matDatepicker",e),t.xp6(2),t.Oqu(t.lcZ(16,22,"form-date")),t.xp6(3),t.Oqu(t.lcZ(19,24,"year-format")),t.xp6(2),t.Q6J("for",e),t.xp6(5),t.Oqu(t.lcZ(26,26,"politician-profileImageUrl")),t.xp6(4),t.Oqu(t.lcZ(30,28,"form-required")),t.xp6(4),t.Oqu(t.lcZ(34,30,"politician-twitterUrl")),t.xp6(5),t.Oqu(t.lcZ(39,32,"politician-instagramUrl")),t.xp6(5),t.Oqu(t.lcZ(44,34,"politician-facebookUrl")),t.xp6(5),t.hij(" ",t.lcZ(49,36,"back")," "),t.xp6(2),t.Q6J("disabled",!o.politicianForm.valid),t.xp6(1),t.hij(" ",t.lcZ(52,38,"create")," ")}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,b.lW,U.Nt,f.KE,f.hX,f.bx,f.TO,f.R9,C.Mq,C.hl,C.nW,Z.X$]}),n})();function S(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-politician-form",3),t.NdJ("cancelEvent",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.navigateBack())})("submitEvent",function(e){t.CHM(i);const r=t.oxw();return t.KtG(r.onSubmit(e))}),t.qZA()}2&n&&t.Q6J("politician",a.ngIf)}let F=(()=>{class n{constructor(i,o,e,r){this._route=i,this._router=o,this._politicalPartiesService=e,this._store=r}ngOnInit(){this.politician$=this._route.paramMap.pipe((0,M.w)(i=>(this.politicalPartyId=i.get("id"),this.politicianId=i.get("politicianId"),this._politicalPartiesService.getPolitician(this.politicianId))))}onSubmit(i){const o={id:this.politicianId,...i};this._store.dispatch(new m.EditPolitician(o)),this.navigateBack()}navigateBack(){this._router.navigate(["/political-party"],{queryParams:{id:this.politicalPartyId}})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(x.A),t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-politician"]],decls:7,vars:6,consts:[[1,"container"],[1,"container__content"],[3,"politician","cancelEvent","submitEvent",4,"ngIf"],[3,"politician","cancelEvent","submitEvent"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,S,1,1,"app-politician-form",2),t.ALo(6,"async"),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"politician-edit")),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,4,o.politician$)))},dependencies:[_.O5,T,_.Ov,Z.X$]}),n})();var L=c(39),w=c(7392),O=c(9132),h=c(3546),N=c(1591),k=c(1296);function J(n,a){if(1&n&&(t.TgZ(0,"a",6),t._UZ(1,"img",7),t.qZA()),2&n){const i=t.oxw(2);t.Q6J("href",i.politician.facebookUrl,t.LSH)}}function Q(n,a){if(1&n&&(t.TgZ(0,"a",6),t._UZ(1,"img",8),t.qZA()),2&n){const i=t.oxw(2);t.Q6J("href",i.politician.instagramUrl,t.LSH)}}function Y(n,a){if(1&n&&(t.TgZ(0,"a",6),t._UZ(1,"img",9),t.qZA()),2&n){const i=t.oxw(2);t.Q6J("href",i.politician.twitterUrl,t.LSH)}}function z(n,a){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",1)(2,"app-admin-quick-menu-actions",2),t.NdJ("actionClickEvt",function(e){t.CHM(i);const r=t.oxw();return t.KtG(r.handleActionEvent(e))}),t.qZA(),t.TgZ(3,"mat-card-header")(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.ALo(8,"dateFormatter"),t.qZA()(),t._UZ(9,"img",3),t.TgZ(10,"mat-card-content",4),t.YNc(11,J,2,1,"a",5),t.YNc(12,Q,2,1,"a",5),t.YNc(13,Y,2,1,"a",5),t.qZA()(),t.BQk()}if(2&n){const i=t.oxw();t.xp6(5),t.Oqu(i.politician.fullName),t.xp6(2),t.Oqu(t.lcZ(8,5,i.politician.birthDate)),t.xp6(4),t.Q6J("ngIf",i.politician.facebookUrl),t.xp6(1),t.Q6J("ngIf",i.politician.instagramUrl),t.xp6(1),t.Q6J("ngIf",i.politician.twitterUrl)}}let B=(()=>{class n{constructor(i,o){this._store=i,this._router=o}handleActionEvent(i){const o=this._store.selectSnapshot(l.getPoliticalPartyId);switch(i.type){case O.U.EDIT:this._router.navigate(["/political-party",o,"edit",this.politician.id]);break;case O.U.DELETE:this._store.dispatch(new m.RemovePolitician(this.politician))}}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.yh),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-politician"]],inputs:{politician:"politician"},decls:1,vars:1,consts:[[4,"ngIf"],["appearance","outlined",1,"politician-card","mat-elevation-z2"],[3,"actionClickEvt"],["mat-card-image","","src","assets/man-user-svgrepo-com.svg",1,"politician-card__image"],[1,"politician-card__media"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["src","assets/icons/facebook.svg","aria-label","redirect to facebook profile of politic","alt","redirect to facebook profile of politic",1,"mat-elevation-z4"],["src","assets/icons/instagram.svg","aria-label","redirect to instagram profile of politic","alt","redirect to instagram profile of politic",1,"mat-elevation-z4"],["src","assets/icons/twitter.svg","aria-label","redirect to twitter profile of politic","alt","redirect to twitter profile of politic",1,"mat-elevation-z4"]],template:function(i,o){1&i&&t.YNc(0,z,14,7,"ng-container",0),2&i&&t.Q6J("ngIf",o.politician)},dependencies:[_.O5,h.a8,h.dn,h.dk,h.G2,h.$j,h.n5,N.i,k.l],styles:[".politician-card[_ngcontent-%COMP%]{width:17rem}.politician-card__image[_ngcontent-%COMP%]{display:block!important;max-height:15rem!important}.politician-card__media[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:1rem}.politician-card__media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;transition:all .5s;border-radius:25%}.politician-card__media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{scale:1.1}"]}),n})();var G=c(4750),I=c(1176);let $=(()=>{class n{constructor(i){this.store=i}transform(i,o){if(!o||null==i)return this.store.dispatch(new I.x.Set({politicianFilterCount:i.length})),i;const e=i.filter(r=>G.c.textIncludesSearchedValueCaseInsensitive(r.fullName,o));return this.store.dispatch(new I.x.Set({politicianFilterCount:e.length})),e}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.yh,16))},n.\u0275pipe=t.Yjl({name:"filterPoliticians",type:n,pure:!0}),n})();function R(n,a){1&n&&t._UZ(0,"app-politician",13),2&n&&t.Q6J("politician",a.$implicit)}function X(n,a){1&n&&(t.ynx(0),t.TgZ(1,"span",14),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"no-result")))}function j(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",11),t.YNc(2,R,1,1,"app-politician",12),t.ALo(3,"filterPoliticians"),t.YNc(4,X,4,3,"ng-container",1),t.ALo(5,"async"),t.qZA(),t.BQk()),2&n){const i=a.ngIf;t.oxw();const o=t.MAs(11),e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,2,i,o.value)),t.xp6(2),t.Q6J("ngIf",0===t.lcZ(5,5,e.politiciansCount))}}const D=function(n){return["/political-party",n,"add"]};function H(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2)(2,"h1",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"input",7,8),t.TgZ(12,"mat-icon",9),t._uU(13,"search"),t.qZA()()(),t.TgZ(14,"button",10)(15,"mat-icon"),t._uU(16,"add"),t.qZA(),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t.YNc(19,j,6,7,"ng-container",1),t.ALo(20,"async"),t.BQk()),2&n){const i=a.ngIf,o=t.oxw();t.xp6(3),t.Oqu(i.name),t.xp6(5),t.Oqu(t.lcZ(9,5,"politician-search")),t.xp6(6),t.Q6J("routerLink",t.VKq(11,D,i.id)),t.xp6(3),t.hij(" ",t.lcZ(18,7,"add-politician")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(20,9,o.politicians$))}}class g{constructor(a,i){this.route=a,this.store=i}ngOnInit(){this.route.queryParamMap.subscribe(a=>this.store.dispatch(new m.GetPoliticalParty(a.get("id"))))}}g.\u0275fac=function(a){return new(a||g)(t.Y36(u.gz),t.Y36(p.yh))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-party"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"party"],[1,"party__heading"],[1,"party__actions"],[1,"party__actions__search"],["appearance","outline"],["type","text","matInput",""],["input",""],["color","primary","matSuffix",""],["mat-raised-button","","color","primary",1,"button-add",3,"routerLink"],[1,"politicians"],[3,"politician",4,"ngFor","ngForOf"],[3,"politician"],[1,"no-result"]],template:function(a,i){1&a&&(t.TgZ(0,"section",0),t.YNc(1,H,21,13,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.politicalParty$)))},dependencies:[_.sg,_.O5,u.rH,b.lW,w.Hw,U.Nt,f.KE,f.hX,f.R9,B,_.Ov,Z.X$,$],styles:[".party[_ngcontent-%COMP%]{height:100%;grid-column:center-start/center-end}.party__heading[_ngcontent-%COMP%]{font-size:3rem;text-align:center;padding:1rem 0 2rem;letter-spacing:.1rem;word-spacing:.5rem;text-transform:uppercase;font-size:bold}@media only screen and (max-width: 75em){.party__heading[_ngcontent-%COMP%]{line-height:3.5rem}}.party__subheading[_ngcontent-%COMP%]{font-size:2rem}.party__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:3rem;gap:1.5rem}@media only screen and (max-width: 37.5em){.party__actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.party__actions__search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important}.party[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{grid-column:2/-1}@media only screen and (max-width: 37.5em){.party[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{grid-column:auto}}.politicians[_ngcontent-%COMP%]{grid-column:center-start/center-end;display:grid;padding-bottom:2rem;grid-template-columns:repeat(auto-fit,minmax(17rem,1fr));gap:3.3rem}@media only screen and (max-width: 53.125em){.politicians[_ngcontent-%COMP%]{gap:2rem}}@media only screen and (max-width: 37.5em){.politicians[_ngcontent-%COMP%]{grid-template-columns:1fr}}.no-result[_ngcontent-%COMP%]{font-size:3rem;grid-column:1/-1}@media only screen and (max-width: 53.125em){.no-result[_ngcontent-%COMP%]{line-height:4rem}}"]}),(0,s.gn)([(0,p.Ph)(L.t.getPoliticianFilterCount)],g.prototype,"politiciansCount",void 0),(0,s.gn)([(0,p.Ph)(l)],g.prototype,"politicalParty$",void 0),(0,s.gn)([(0,p.Ph)(l.getPoliticians)],g.prototype,"politicians$",void 0);const K=[{path:"",component:g,pathMatch:"full"},{path:":id/add",component:(()=>{class n{constructor(i,o,e){this._store=i,this._router=o,this._route=e}ngOnInit(){this._route.paramMap.subscribe(i=>this.politicalPartyId=i.get("id"))}onSubmit(i){this._store.dispatch(new m.AddPolitician(i)),this.navigateBack()}navigateBack(){this._router.navigate(["/political-party"],{queryParams:{id:this.politicalPartyId}})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.yh),t.Y36(u.F0),t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-politician"]],decls:6,vars:3,consts:[[1,"container"],[1,"container__content"],[3,"submitEvent","cancelEvent"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"app-politician-form",2),t.NdJ("submitEvent",function(r){return o.onSubmit(r)})("cancelEvent",function(){return o.navigateBack()}),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"politician-new")))},dependencies:[T,Z.X$]}),n})()},{path:":id/edit/:politicianId",component:F}];let W=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(K),u.Bz]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.ez,W,q.m,p.$l.forFeature([l])]}),n})()}}]);